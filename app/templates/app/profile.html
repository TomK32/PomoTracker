{% extends 'app/layout.html' %}
{% load static %}

{% block title %}
    {{ userProfile.username }}
{% endblock %}

{% block script %}
    <script src="{% static 'app/theme_toggle_script.js' %}" type="module"></script>
{% endblock %}

{% block body %}
<main>
    <div class="user-profile">
        <div class="header-profile">
            <img src="{{ userProfile.settings.image.url }}" alt="Profile image" class="user-profile-img">
            <div class="name-rank">
                <div class="username-rewards">
                    <p class="title">{{ userProfile.username }}</p>
                    {% if userProfile.rewards.gold %}
                        <span class="rewards">ðŸ¥‡{{ userProfile.rewards.gold }}</span>
                    {% endif %}
                    {% if userProfile.rewards.silver %}
                        <span class="rewards">ðŸ¥ˆ{{ userProfile.rewards.silver }}</span>
                    {% endif %}
                    {% if userProfile.rewards.bronze %}
                        <span class="rewards">ðŸ¥‰{{ userProfile.rewards.bronze }}</span>
                    {% endif %}
                </div>
                <p>
                <span title="Average Rank">#{{ userProfile.rewards.getAverageRank }}</span>
                <span title="Average Pomodoros per day">#{{ averagePomos }}</span>
                </p>
            </div>
        </div>
        <div class="body-profile">
            {{ message }}
            {% if display %}
            <form method="post" enctype="multipart/form-data">
                {% csrf_token %}
                {{ form }}
                <button type="submit">Upload</button>
            </form>
            {% endif %}
        </div>
    </div>
</main>
{% endblock %}
