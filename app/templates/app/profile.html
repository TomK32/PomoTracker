{% extends 'app/layout.html' %}
{% load static %}

{% block title %}
{{ userProfile.username }}
{% endblock %}

{% block script %}
<script src="{% static 'app/theme_toggle_script.js' %}" type="module"></script>
{% endblock %}

{% block body %}
<main>
  <div class="user-profile">
    <div class="header-profile">
      <div class="left">
        <img src="{{ userProfile.settings.image.url }}" alt="Profile image" class="user-profile-img">
        <p class="title">{{ userProfile.username }}</p>
        {% if userProfile.rewards.gold %}
        <span class="rewards">&#129351;{{ userProfile.rewards.gold }}</span>
        {% endif %}
        {% if userProfile.rewards.silver %}
        <span class="rewards">&#129352;{{ userProfile.rewards.silver }}</span>
        {% endif %}
        {% if userProfile.rewards.bronze %}
        <span class="rewards">&#129353;{{ userProfile.rewards.bronze }}</span>
        {% endif %}
      </div>
      <div class="right">
        <p title="Average Rank" id="first"><span>&#128310;</span>{{ userProfile.rewards.getAverageRank }}</p>
        <p title="Average Pomodoros per day"><span>&#128310;</span>{{ averagePomos }}</p>
      </div>
    </div>
    {% if display %}
    <div class="settings-profile">
      <h2>{{ userProfile.username | title }} Settings</h2>
      <form method="post" enctype="multipart/form-data">
        {% csrf_token %}
        {{ form }}
        <button type="submit">Save</button>
      </form>
    </div>
    {% endif %}
  </div>
</main>
{% endblock %}
