{% extends 'app/layout.html' %}
{% load static %}

{% block title %}
API Reference
{% endblock %}

{% block body %}
<main>

  <h2>PomoTracker</h2>

  <p><a href="{% url 'token' %}">Click here to get your token.(Do not share with anyone)</a></p>
  <h2>Endpoints</h2>

  <h3>1. GET <code>/api/:username/:endpoint</code></h3>
  <p>Retrieve all pomodoros or tag statistics for a specific user.</p>
  <h4>Parameters</h4>
  <ul>
    <li><code>username</code>: The username of the user.</li>
    <li><code>endpoint</code>: Can be either 'pomodoros' or 'tag'.</li>
  </ul>
  <h4>Responses</h4>
  <ul>
    <li><code>200 OK</code>: Returns a JSON array of all pomodoros or a JSON object containing tag statistics.</li>
    <li><code>400 Bad Request</code>: Returned if the request method is not 'GET'.</li>
    <li><code>401 Unauthorized</code>: Returned if the user does not exist.</li>
  </ul>

  <h3>2. GET <code>/api/settings/:token</code></h3>
  <p>Get the user settings for a given token.</p>
  <h4>Parameters</h4>
  <ul>
    <li><code>token</code>: The user's token.</li>
  </ul>
  <h4>Responses</h4>
  <ul>
    <li><code>200 OK</code>: Returns a JSON object containing the user's settings.</li>
    <li><code>400 Bad Request</code>: Returned if the request method is not 'GET'.</li>
    <li><code>401 Unauthorized</code>: Returned if the token is invalid.</li>
  </ul>

  <h3>3. POST <code>/api/create/:token</code></h3>
  <p>Create a new pomodoro for a user with a specific tag.</p>
  <h4>Parameters</h4>
  <ul>
    <li><code>token</code>: The user's token.</li>
  </ul>
  <h4>Request Body</h4>
  <ul>
    <li><code>tag</code>: The tag to associate with the new pomodoro.</li>
  </ul>
  <h4>Responses</h4>
  <ul>
    <li><code>201 Created</code>: Returns a JSON object indicating the pomodoro was created successfully.</li>
    <li><code>400 Bad Request</code>: Returned if the request method is not 'POST' or if there is a problem with the request data.</li>
    <li><code>401 Unauthorized</code>: Returned if the token is invalid.</li>
    <li><code>422 Unprocessable Entity</code>: Returned if the pomodoro would overlap with an existing one.</li>
  </ul>

  <h3>4. PATCH <code>/api/updateTags/:token/:tag_to_replace</code></h3>
  <p>Update all pomodoros associated with a given tag for a user.</p>
  <h4>Parameters</h4
</main>
{% endblock %}
